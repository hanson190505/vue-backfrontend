(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c1accd14"],{d2c0:function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,50,100,200],"page-size":e.page_size,layout:"total, sizes, prev, pager, next, jumper",total:e.getDataTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"prev-click":e.handleprevious,"next-click":e.handlenext}})],1)},l=[],s=(t("a9e3"),{name:"pagiNation",data:function(){return{page_size:10,currentPage:1}},props:{getDataTotal:{type:Number,default:0}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:1,page_size:e})},handleCurrentChange:function(e){this.$emit("pagination",{page:e,page_size:this.page_size})},handleprevious:function(e){this.$emit("pagination",{page:e,page_size:this.page_size})},handlenext:function(e){this.$emit("pagination",{page:e,page_size:this.page_size})}}}),i=s,r=t("2877"),o=Object(r["a"])(i,n,l,!1,null,"212aea47",null);a["a"]=o.exports},e382:function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("user-table")],1)},l=[],s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{},attrs:{data:e.userData,border:"","highlight-current-row":"","row-class-name":e.tableRowClassName,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[t("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),t("el-table-column",{attrs:{label:"用户名",align:"center",width:"100",fixed:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.u_name))])]}}])}),t("el-table-column",{attrs:{label:"创建日期",align:"center",width:"260",fixed:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.creat_time))])]}}])}),t("el-table-column",{attrs:{label:"角色",align:"center",width:"100",fixed:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{slot:"reference","disable-transitions":""},slot:"reference"},[e._v(e._s(a.row.tag))])]}}])}),t("el-table-column",{attrs:{label:"状态",align:"center",width:"100",fixed:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{slot:"reference",type:a.row.type,"disable-transitions":""},slot:"reference"},[e._v(e._s(a.row.status))])]}}])}),t("el-table-column",{attrs:{label:"操作",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.changeRow(a.row)}}},[e._v("修改")])]}}])})],1),t("pagi-nation",{attrs:{getDataTotal:e.dataTotal},on:{pagination:e.pagination}}),t("change-data",{ref:"changeForm"})],1)},i=[],r=t("d2c0"),o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-dialog",{attrs:{visible:e.displayed,width:"40%","before-close":e.handleClose},on:{"update:visible":function(a){e.displayed=a}}},[t("el-form",{ref:"form",attrs:{model:e.userData,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"用户名"}},[t("span",[e._v(e._s(e.userData.u_name))])]),t("el-form-item",{attrs:{label:"角 色"}},[t("el-select",{attrs:{placeholder:""},model:{value:e.userData.permissions,callback:function(a){e.$set(e.userData,"permissions",a)},expression:"userData.permissions"}},e._l(e.permissionsOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"状 态"}},[t("el-select",{attrs:{placeholder:""},model:{value:e.userData.is_use,callback:function(a){e.$set(e.userData,"is_use",a)},expression:"userData.is_use"}},e._l(e.statusOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提 交")])],1)],1)],1)],1)},u=[],c=t("c24f"),d={name:"changeData",data:function(){return{displayed:!1,userData:{},permissionsOptions:[{value:1,label:"超级管理员"},{value:2,label:"总经理"},{value:3,label:"业务经理"},{value:4,label:"业务"},{value:5,label:"采购经理"},{value:6,label:"采购"},{value:7,label:"货运经理"},{value:8,label:"货运"},{value:9,label:"财务经理"},{value:10,label:"财务"},{value:0,label:"未分配"}],statusOptions:[{value:0,label:"禁用"},{value:1,label:"可用"}]}},methods:{handleChange:function(e){this.displayed=!0,this.userData=e},onSubmit:function(){var e=this;Object(c["e"])(this.userData.id,this.userData).then((function(a){e.$message.success("修改成功")})).catch((function(a){e.$message.warning("修改失败")}))},handleClose:function(e){this.$confirm("确认关闭？").then((function(a){e()})).catch((function(e){}))}}},g=d,p=t("2877"),b=Object(p["a"])(g,o,u,!1,null,"7fb69b6c",null),f=b.exports,h={name:"userTable",components:{pagiNation:r["a"],changeData:f},data:function(){return{userData:[],loading:!0,dataTotal:0}},methods:{tableRowClassName:function(e){var a=e.row;e.rowIndex;switch(a.permissions){case 1:a.tag="超级管理员";break;case 2:a.tag="总经理";break;case 3:a.tag="业务经理";break;case 4:a.tag="业务";break;case 5:a.tag="采购经理";break;case 6:a.tag="采购";break;case 7:a.tag="货运经理";break;case 8:a.tag="货运";break;case 9:a.tag="财务经理";break;case 10:a.tag="财务";break;default:a.tag="未分配";break}switch(a.is_use){case 1:a.status="可用",a.type="success";break;case 0:a.status="禁用",a.type="warning";break;default:break}return""},pagination:function(e){var a=this;e||(e={page:1,page_size:10}),Object(c["d"])(e).then((function(e){a.userData=e.data.results,a.dataTotal=e.data.count,a.loading=!1}))},changeRow:function(e){this.$refs.changeForm.handleChange(e)}},created:function(){this.pagination()}},m=h,v=Object(p["a"])(m,s,i,!1,null,"769bdefe",null),_=v.exports,w={components:{userTable:_}},k=w,y=Object(p["a"])(k,n,l,!1,null,"36891cc7",null);a["default"]=y.exports}}]);